配置复制的方式有以下三种：

1）在配置文件中加入slaveof{masterHost}{masterPort}随Redis启动生

效。

2）在redis-server启动命令后加入--slaveof{masterHost}{masterPort}生

效。

3）直接使用命令：slaveof{masterHost}{masterPort}生效。



启动6379 端口redis作为主

启动6380端口redis作为从。127.0.0.1:6380>slaveof 127.0.0.1 6379





断开复制主要流程：slaveof no one

1）断开与主节点复制关系。

2）从节点晋升为主节点。

切主操作流程如下：slaveof{newMasterIp}{newMasterPort}命令

1）断开与旧主节点复制关系。

2）与新主节点建立复制关系。

3）删除从节点当前所有数据。

4）对新主节点进行复制操作。



默认情况下，从节点使用slave-read-only=yes配置为只读模式。从节点是只读模式，因为数据修改只能从主节点同步到从节点，那么从节点修改了，主节点不知道，主从就不一致了。