1.RDB:内存快照，指定间隔内将内存中的数据快照。优点：恢复速度快。rdb文件是二进制格式的数据库文件，对于AOF文件来说体积小。缺点：数据可能会丢失

- 主进程fork一个子进程，子进程来进行RDB文件生成。![img](https://api2.mubu.com/v3/document_image/d16851ad-a99e-4e52-be68-e25935173f31-14247913.jpg)

- 2.AOF

  - redis服务器启动，通过AOF文件恢复数据。流程：将客户端写请求，放到AOF缓冲区，每秒刷新缓冲区数据到AOF文件中，在AOF文件中进行AOF重写（就是将冗余的命令进行重写）

  - 优点：数据不会丢失那么多

  - 缺点：数据恢复会比RDB慢，文件大

- 3.redis4.0之后使用混合持久化，RDB+AOF

- 6.x之后io多线程：多线程去读和写io